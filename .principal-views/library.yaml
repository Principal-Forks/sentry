version: "1.0.0"
name: "Sentry Architecture Components"

nodeComponents:
  # Frontend Layer
  ReactApp:
    defaultLabel: "React Frontend"
    icon: "Layout"
    color: "5"
    description: "Frontend application (static/)"

  # Backend Layer
  DjangoApp:
    defaultLabel: "Django Application"
    icon: "Server"
    color: "4"
    description: "Main Sentry Django app (src/sentry/)"

  DjangoAPI:
    defaultLabel: "Django REST API"
    icon: "Code"
    color: "4"
    description: "REST API endpoints (src/sentry/api/)"

  # Task Processing
  CeleryWorker:
    defaultLabel: "Celery Workers"
    icon: "Cog"
    color: "2"
    description: "Background task processing"

  # Databases
  PostgreSQL:
    defaultLabel: "PostgreSQL"
    icon: "Database"
    color: "6"
    description: "Primary relational database"

  Redis:
    defaultLabel: "Redis"
    icon: "Zap"
    color: "1"
    description: "Caching and queuing"

  ClickHouse:
    defaultLabel: "ClickHouse"
    icon: "HardDrive"
    color: "6"
    description: "Event data storage (via Snuba)"

  # Message Queues
  Kafka:
    defaultLabel: "Kafka"
    icon: "Workflow"
    color: "3"
    description: "Event streaming platform"

  RabbitMQ:
    defaultLabel: "RabbitMQ"
    icon: "Shuffle"
    color: "3"
    description: "Message broker for Celery"

  # Services
  Relay:
    defaultLabel: "Relay"
    icon: "Radio"
    color: "2"
    description: "Event ingestion service"

  Snuba:
    defaultLabel: "Snuba"
    icon: "Search"
    color: "4"
    description: "Event query service"

  Symbolicator:
    defaultLabel: "Symbolicator"
    icon: "Bug"
    color: "2"
    description: "Debug symbol processing"

  # Cloud Services
  GCP:
    defaultLabel: "Google Cloud"
    icon: "Cloud"
    color: "5"
    description: "Bigtable, Pub/Sub, Storage, KMS"

  # External
  ClientSDK:
    defaultLabel: "Client SDKs"
    icon: "Globe"
    color: "1"
    description: "Application instrumentation"

edgeComponents:
  api_call:
    label: "API Call"
    style: "solid"
    color: "4"

  event_flow:
    label: "Event Data"
    style: "solid"
    color: "1"

  task_queue:
    label: "Task Queue"
    style: "dashed"
    color: "2"

  data_query:
    label: "Query"
    style: "solid"
    color: "6"

  cache:
    label: "Cache"
    style: "dotted"
    color: "5"

  message_stream:
    label: "Message Stream"
    style: "animated"
    color: "3"
